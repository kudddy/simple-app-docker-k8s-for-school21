# Чуть чуть про разработку, k8s и openshift

## Вступление

Привет, я Худяков Кирилл и сегодня я хочу рассказать про технологии виртуализации, k8s/ openshift. 
Часто кандидаты не знают базовых основ, так что цель этого мини туториала рассказать про основной концепции этих технологий. 

## что такое docker и зачем он нужен?
Docker — это платформа, которая предназначена для разработки, развёртывания и запуска приложений в контейнерах. 

Какие плюсы использование docker?

Изолированность. Вы не зависите от по, которое установлено на вашем железе. Конечно на нем должен установлен docker агент, но. 
Ваша программа требует для фрейворк который работает только с ubuntu? не проблема, 
берите ubuntu, либо может вам лень настаивать самому чистую ОС, где нет ни node js, ни python интерпретатора? 
не проблема? Берите уже готовый образ с предустановленным ПО из репозитория контейнеров

Версионировние. Из этого пункта вытекает еще один плюст - это возможность версионировать ваше приложение. 
Например, у вас есть готовое приложение к которому вы подготовили какую нибудь полезную фичу. 
Вы вакатили новую версию и оказалось что новый функционал аффектит и требуется быстро вернуть старую версию обратно. 
Не проблема, просто возьмите старый контейнер и начните исрользовать его

Облегчение жизнь разработчикам. Представьте, вы разрабатываете ПО, но окруженеи вашего железа отличавется от вашего, 
и в момент запустка вашего кода в другом окружении. Для отладки ваш важдый раз придется заливать ваш код на машину, 
что очень трудозатратно по времени. Docker решает эту проблему плюсом из пункта 1.

## Практическая часть. Как использовать?

### Быстрые команды
```
make devenv - Создать и установить тестововой окружение
make lin - Проверить код с помощью pylint
make postgres - Запустить контейнер с postgres
make test - запустить тесты
make docker - Собрать образ
make upload - Загрузить образ в хранилище
```

### Как запусить?
Собираем образ
```
make docker
```
Запускаем
```
docker run -p 8080:8080
```

### Как подготовить тестовое окружение?
```
make devenv
make postgres
source env/bin/activate
```
приложение доступно на порту 8080
### Как запустить тесты?
```
make devenv
make postgres
source env/bin/activate
pytest
```
### Как запустить нагрузочное тестирование?
Для запуска locust необходимо выполнить следующие команды:
```
make devenv
source env/bin/activate
locust
```



